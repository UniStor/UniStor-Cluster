---

- name: Test Drives dict
  debug:
    msg: "{{ item.key }}"
  loop: "{{ drive | dict2items }}"
  loop_control:
    label: "{{ item.key }}"

- name: Test Drives dict
  debug:
    var: "drive[item]"
  with_items: "{{ drive.keys() | list }}"


# ----------------------------------------------------
- name: is LVM Formatted Partition? - nested loop
  debug:
    msg:
      - 'Contains a LVM PV'
      - '{{ thisDrive.disk.dev }}{{item.num}}'
      - '{{item.flags}}'
  loop: '{{ thisDrive.partitions }}'
  loop_control:
    label: '{{ item.num }}'
  when: ( "lvm" in item.flags )
