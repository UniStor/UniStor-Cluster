---

- name: Generate LVM Partition list of dicts
  set_fact:
    partitionList: "{{ partitionList +
    [
      {
        'driveLeter' : this.key,
        'partitionNumber' : item.num,
        'flags' : item.flags,
        'disk' : thisDrive.disk.dev,
        'id' : 'this.value.partitions'
      }
    ] }}"
  loop: '{{ thisDrive.partitions }}'
  loop_control:
    label: '{{ item.num }}'
