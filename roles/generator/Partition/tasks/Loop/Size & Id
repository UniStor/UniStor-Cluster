---
- name: tmp partnum
  set_fact:
    num: '1'

- name: interpolate Id
  debug:
    msg: "{{ this.value.partitions[this.key + num].links.ids }}"

- name: interpolate Id in facts
  debug:
    msg: "{{ ansible_facts.devices[this.key].partitions[this.key + num].links.ids }}"


- name: interpolate Size
  debug:
    msg: "{{ this.value.partitions[this.key + num].size }}"

- name: interpolate Size in facts
  debug:
    msg: "{{ ansible_facts.devices[this.key].partitions[this.key + num].size }}"
